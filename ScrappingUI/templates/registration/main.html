{% extends "base.html" %}
{% load static %}

{% block content %}


    <div class="search">
        <div class="SearchBar" id="center">
            <form method="post">
                {% csrf_token %}
                <input type="text" name="search" placeholder="Search.." />
                <button> Go! </button>
            </form>
        </div>
    </div>


    <div class="newsdata_box" id="news">
        <p class="section_header"> News </p>
        <div class="articles">
            {% if news == None %}
                <div class="tweet">
                    <div class="textbox" style="text-align: center; padding:10px;">
                        There are no news articles for this topic.
                    </div>
                </div>
            {% else %}
                {% for x in news %}
                    <div class="tweet">
                        <div class="image_box">
                            <img class="news-logo" src="{{ x.logo }}">
                        </div>
                        <div class="news_info">
                            <p class="news_title">{{ x.title }}</p>
                        </div>
                        <div class="textbox">
                            <p class="tweet_text">{{ x.summary |safe }}</p>
                            <p class="date">{{ x.date }}</p>
                            <a style="text-decoration: none" href="{{ x.link }}" target="_blank"><p class="full-link">Read full article</p></a>
                        </div>
                        <br>
                    </div>
                {% endfor %}
        {% endif %}
        </div>
    </div>

    <div class="tweetdata_box" id="tweets">
        <p class="section_header"> Tweets </p>
        <div class="tweets">
            {% if tweets == None %}
                <div class="tweet">
                    <div class="textbox" style="text-align: center; padding:10px;">
                        There are no tweets for this topic.
                    </div>
                </div>
            {% else %}
                {% for x in tweets %}
                    <div class="tweet">
                        <a href="https://twitter.com/{{ x.user.handle }}" target="_blank">
                            <div class="image_box">
                                <img class="avatar" src="{{ x.user.profile_image }}">
                            </div>
                            <div class="user_info">
                                <p class="username">{{ x.user.name }}</p>
                                {% if x.user.verified == True %}
                                    <img class="verified_icon" src="/static/images/Verified.png">
                                {% endif %}
                                <br><br>
                                <p class="handle">@{{ x.user.handle }}</p>
                            </div>
                        </a>
                        <div class="user_info">
                            <p class="followers">Followers: {{ x.user.followers }}</p>
                        </div>
                        <div class="textbox">
                            <p class="tweet_text">{{ x.text }}</p>
                            Retweets: {{ x.retweets }}  |  Favorites: {{ x.favorites }}
                            <p class="date">{{ x.date }}</p>
                            <a style="text-decoration: none" href="https://twitter.com/{{ x.user.name }}/status/{{ x.id }}" target="_blank"><p class="full-link">See full tweet</p></a>
                        </div>
                        <br><br>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
{% endblock content %}